{"ast":null,"code":"import _classCallCheck from\"D:/FHDC/CCHND-V2/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/FHDC/CCHND-V2/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{getUniqueIdWithPrefix}from'./_TypesHelpers';export var DOMEventHandlerUtil=/*#__PURE__*/function(){function DOMEventHandlerUtil(){_classCallCheck(this,DOMEventHandlerUtil);}_createClass(DOMEventHandlerUtil,null,[{key:\"on\",value:function on(element,selector,eventName,callBack){var eventId=getUniqueIdWithPrefix('DOMEvent');DOMEventHandlerUtil.store.set(eventId,function(e){var targets=element.querySelectorAll(selector);var target=e.target;while(target&&target!==element){for(var i=0;i<targets.length;i++){if(target===targets[i]){callBack.call(target,e);}}if(target.parentElement){target=target.parentElement;}else{target=null;}}});element.addEventListener(eventName,DOMEventHandlerUtil.store.get(eventId));return eventId;}},{key:\"off\",value:function off(element,eventName,eventId){var funcFromStore=DOMEventHandlerUtil.store.get(eventId);if(!funcFromStore){return;}element.removeEventListener(eventName,funcFromStore);DOMEventHandlerUtil.store.delete(eventId);}},{key:\"one\",value:function one(element,eventName,callBack){element.addEventListener(eventName,function calee(e){// remove event\nif(e.target&&e.target.removeEventListener){e.target.removeEventListener(e.type,calee);}if(element&&e&&e.currentTarget){// if (element && element.removeEventListener && e && e.currentTarget) {\ne.currentTarget.removeEventListener(e.type,calee);}// call hander\nreturn callBack(e);});}}]);return DOMEventHandlerUtil;}();DOMEventHandlerUtil.store=new Map();","map":{"version":3,"names":["getUniqueIdWithPrefix","DOMEventHandlerUtil","element","selector","eventName","callBack","eventId","store","set","e","targets","querySelectorAll","target","i","length","call","parentElement","addEventListener","get","funcFromStore","removeEventListener","delete","calee","type","currentTarget","Map"],"sources":["D:/FHDC/CCHND-V2/Frontend/src/_metronic/assets/ts/_utils/_DOMEventHandlerUtil.ts"],"sourcesContent":["import {getUniqueIdWithPrefix} from './_TypesHelpers'\r\n\r\nexport class DOMEventHandlerUtil {\r\n  public static store = new Map()\r\n\r\n  public static on(\r\n    element: HTMLElement,\r\n    selector: string,\r\n    eventName: string,\r\n    callBack: any\r\n  ): string {\r\n    const eventId = getUniqueIdWithPrefix('DOMEvent')\r\n    DOMEventHandlerUtil.store.set(eventId, (e: Event) => {\r\n      const targets = element.querySelectorAll(selector)\r\n      let target: HTMLElement | null = e.target as HTMLElement\r\n      while (target && target !== element) {\r\n        for (let i = 0; i < targets.length; i++) {\r\n          if (target === targets[i]) {\r\n            callBack.call(target, e)\r\n          }\r\n        }\r\n\r\n        if (target.parentElement) {\r\n          target = target.parentElement\r\n        } else {\r\n          target = null\r\n        }\r\n      }\r\n    })\r\n    element.addEventListener(eventName, DOMEventHandlerUtil.store.get(eventId))\r\n    return eventId\r\n  }\r\n\r\n  public static off(element: HTMLElement, eventName: string, eventId: string): void {\r\n    const funcFromStore = DOMEventHandlerUtil.store.get(eventId)\r\n    if (!funcFromStore) {\r\n      return\r\n    }\r\n\r\n    element.removeEventListener(eventName, funcFromStore)\r\n    DOMEventHandlerUtil.store.delete(eventId)\r\n  }\r\n\r\n  public static one(element: HTMLElement, eventName: string, callBack: Function): void {\r\n    element.addEventListener(eventName, function calee(e) {\r\n      // remove event\r\n      if (e.target && e.target.removeEventListener) {\r\n        e.target.removeEventListener(e.type, calee)\r\n      }\r\n\r\n      if (element && e && e.currentTarget) {\r\n        // if (element && element.removeEventListener && e && e.currentTarget) {\r\n        e.currentTarget.removeEventListener(e.type, calee)\r\n      }\r\n\r\n      // call hander\r\n      return callBack(e)\r\n    })\r\n  }\r\n}\r\n"],"mappings":"4NAAA,OAAQA,qBAAR,KAAoC,iBAApC,CAEA,UAAaC,oBAAb,0JAGE,YACEC,OADF,CAEEC,QAFF,CAGEC,SAHF,CAIEC,QAJF,CAKU,CACR,GAAMC,QAAO,CAAGN,qBAAqB,CAAC,UAAD,CAArC,CACAC,mBAAmB,CAACM,KAApB,CAA0BC,GAA1B,CAA8BF,OAA9B,CAAuC,SAACG,CAAD,CAAc,CACnD,GAAMC,QAAO,CAAGR,OAAO,CAACS,gBAAR,CAAyBR,QAAzB,CAAhB,CACA,GAAIS,OAA0B,CAAGH,CAAC,CAACG,MAAnC,CACA,MAAOA,MAAM,EAAIA,MAAM,GAAKV,OAA5B,CAAqC,CACnC,IAAK,GAAIW,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGH,OAAO,CAACI,MAA5B,CAAoCD,CAAC,EAArC,CAAyC,CACvC,GAAID,MAAM,GAAKF,OAAO,CAACG,CAAD,CAAtB,CAA2B,CACzBR,QAAQ,CAACU,IAAT,CAAcH,MAAd,CAAsBH,CAAtB,EACD,CACF,CAED,GAAIG,MAAM,CAACI,aAAX,CAA0B,CACxBJ,MAAM,CAAGA,MAAM,CAACI,aAAhB,CACD,CAFD,IAEO,CACLJ,MAAM,CAAG,IAAT,CACD,CACF,CACF,CAhBD,EAiBAV,OAAO,CAACe,gBAAR,CAAyBb,SAAzB,CAAoCH,mBAAmB,CAACM,KAApB,CAA0BW,GAA1B,CAA8BZ,OAA9B,CAApC,EACA,MAAOA,QAAP,CACD,CA7BH,mBA+BE,aAAkBJ,OAAlB,CAAwCE,SAAxC,CAA2DE,OAA3D,CAAkF,CAChF,GAAMa,cAAa,CAAGlB,mBAAmB,CAACM,KAApB,CAA0BW,GAA1B,CAA8BZ,OAA9B,CAAtB,CACA,GAAI,CAACa,aAAL,CAAoB,CAClB,OACD,CAEDjB,OAAO,CAACkB,mBAAR,CAA4BhB,SAA5B,CAAuCe,aAAvC,EACAlB,mBAAmB,CAACM,KAApB,CAA0Bc,MAA1B,CAAiCf,OAAjC,EACD,CAvCH,mBAyCE,aAAkBJ,OAAlB,CAAwCE,SAAxC,CAA2DC,QAA3D,CAAqF,CACnFH,OAAO,CAACe,gBAAR,CAAyBb,SAAzB,CAAoC,QAASkB,MAAT,CAAeb,CAAf,CAAkB,CACpD;AACA,GAAIA,CAAC,CAACG,MAAF,EAAYH,CAAC,CAACG,MAAF,CAASQ,mBAAzB,CAA8C,CAC5CX,CAAC,CAACG,MAAF,CAASQ,mBAAT,CAA6BX,CAAC,CAACc,IAA/B,CAAqCD,KAArC,EACD,CAED,GAAIpB,OAAO,EAAIO,CAAX,EAAgBA,CAAC,CAACe,aAAtB,CAAqC,CACnC;AACAf,CAAC,CAACe,aAAF,CAAgBJ,mBAAhB,CAAoCX,CAAC,CAACc,IAAtC,CAA4CD,KAA5C,EACD,CAED;AACA,MAAOjB,SAAQ,CAACI,CAAD,CAAf,CACD,CAbD,EAcD,CAxDH,mCAAaR,mB,CACGM,K,CAAQ,GAAIkB,IAAJ,E"},"metadata":{},"sourceType":"module"}