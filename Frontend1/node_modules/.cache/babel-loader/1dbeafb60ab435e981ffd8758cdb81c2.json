{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar core = require('@react-pdf-viewer/core');\n\nvar React = require('react');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownArrowIcon = function () {\n  return React__namespace.createElement(core.Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z\"\n  }));\n};\n\nvar RightArrowIcon = function () {\n  return React__namespace.createElement(core.Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z\"\n  }));\n};\n\nvar shouldBeCollapsed = function (bookmark) {\n  var count = bookmark.count,\n      items = bookmark.items;\n\n  if (count >= 0) {\n    return false;\n  }\n\n  var numSubItems = items.length;\n\n  if (numSubItems === 0) {\n    return false;\n  }\n\n  var subItems = items.concat([]);\n\n  while (subItems.length > 0) {\n    var firstChild = subItems.shift();\n    var children = firstChild.items;\n\n    if (firstChild.count && children && firstChild.count > 0 && children.length > 0) {\n      numSubItems += children.length;\n      subItems = subItems.concat(children);\n    }\n  }\n\n  return Math.abs(count) === numSubItems;\n};\n\nvar BookmarkItem = function (_a) {\n  var bookmark = _a.bookmark,\n      depth = _a.depth,\n      doc = _a.doc,\n      index = _a.index,\n      isBookmarkExpanded = _a.isBookmarkExpanded,\n      numberOfSiblings = _a.numberOfSiblings,\n      renderBookmarkItem = _a.renderBookmarkItem,\n      store = _a.store,\n      onJumpToDest = _a.onJumpToDest;\n  var defaultIsCollapsed = React__namespace.useMemo(function () {\n    return shouldBeCollapsed(bookmark);\n  }, [bookmark]);\n  var defaultExpanded = isBookmarkExpanded ? isBookmarkExpanded({\n    bookmark: bookmark,\n    doc: doc,\n    depth: depth,\n    index: index\n  }) : !defaultIsCollapsed;\n\n  var _b = React__namespace.useState(defaultExpanded),\n      expanded = _b[0],\n      setExpanded = _b[1];\n\n  var hasSubItems = bookmark.items && bookmark.items.length > 0;\n\n  var toggleSubItems = function () {\n    return setExpanded(function (expanded) {\n      return !expanded;\n    });\n  };\n\n  var clickBookmark = function () {\n    if (hasSubItems && bookmark.dest) {\n      onJumpToDest(bookmark.dest);\n    }\n  };\n\n  var clickItem = function () {\n    if (!hasSubItems && bookmark.dest) {\n      onJumpToDest(bookmark.dest);\n    }\n  };\n\n  var defaultRenderItem = function (onClickItem, children) {\n    return React__namespace.createElement(\"div\", {\n      className: \"rpv-bookmark__item\",\n      style: {\n        paddingLeft: \"\".concat(depth * 1.25, \"rem\")\n      },\n      onClick: onClickItem\n    }, children);\n  };\n\n  var defaultRenderToggle = function (expandIcon, collapseIcon) {\n    return hasSubItems ? React__namespace.createElement(\"span\", {\n      className: \"rpv-bookmark__toggle\",\n      \"data-testid\": \"bookmark__toggle-\".concat(depth, \"-\").concat(index),\n      onClick: toggleSubItems\n    }, expanded ? expandIcon : collapseIcon) : React__namespace.createElement(\"span\", {\n      className: \"rpv-bookmark__toggle\"\n    });\n  };\n\n  var defaultRenderTitle = function (onClickBookmark) {\n    return bookmark.url ? React__namespace.createElement(\"a\", {\n      className: \"rpv-bookmark__title\",\n      href: bookmark.url,\n      rel: \"noopener noreferrer nofollow\",\n      target: bookmark.newWindow ? '_blank' : ''\n    }, bookmark.title) : React__namespace.createElement(\"div\", {\n      className: \"rpv-bookmark__title\",\n      \"aria-label\": bookmark.title,\n      onClick: onClickBookmark\n    }, bookmark.title);\n  };\n\n  return React__namespace.createElement(\"li\", {\n    \"aria-expanded\": expanded ? 'true' : 'false',\n    \"aria-label\": bookmark.title,\n    \"aria-level\": depth + 1,\n    \"aria-posinset\": index + 1,\n    \"aria-setsize\": numberOfSiblings,\n    role: \"treeitem\",\n    tabIndex: -1\n  }, renderBookmarkItem ? renderBookmarkItem({\n    bookmark: bookmark,\n    depth: depth,\n    hasSubItems: hasSubItems,\n    index: index,\n    isExpanded: expanded,\n    defaultRenderItem: defaultRenderItem,\n    defaultRenderTitle: defaultRenderTitle,\n    defaultRenderToggle: defaultRenderToggle,\n    onClickItem: clickItem,\n    onClickTitle: clickBookmark,\n    onToggleSubItems: toggleSubItems\n  }) : defaultRenderItem(clickItem, React__namespace.createElement(React__namespace.Fragment, null, defaultRenderToggle(React__namespace.createElement(DownArrowIcon, null), React__namespace.createElement(RightArrowIcon, null)), defaultRenderTitle(clickBookmark))), hasSubItems && expanded && React__namespace.createElement(BookmarkList, {\n    bookmarks: bookmark.items,\n    depth: depth + 1,\n    doc: doc,\n    isBookmarkExpanded: isBookmarkExpanded,\n    isRoot: false,\n    renderBookmarkItem: renderBookmarkItem,\n    store: store,\n    onJumpToDest: onJumpToDest\n  }));\n};\n\nvar BookmarkList = function (_a) {\n  var bookmarks = _a.bookmarks,\n      _b = _a.depth,\n      depth = _b === void 0 ? 0 : _b,\n      doc = _a.doc,\n      isBookmarkExpanded = _a.isBookmarkExpanded,\n      isRoot = _a.isRoot,\n      renderBookmarkItem = _a.renderBookmarkItem,\n      store = _a.store,\n      onJumpToDest = _a.onJumpToDest;\n  return React__namespace.createElement(\"ul\", {\n    className: \"rpv-bookmark__list\",\n    role: isRoot ? 'tree' : 'group',\n    tabIndex: -1\n  }, bookmarks.map(function (bookmark, index) {\n    return React__namespace.createElement(BookmarkItem, {\n      bookmark: bookmark,\n      depth: depth,\n      doc: doc,\n      index: index,\n      isBookmarkExpanded: isBookmarkExpanded,\n      key: index,\n      numberOfSiblings: bookmarks.length,\n      renderBookmarkItem: renderBookmarkItem,\n      store: store,\n      onJumpToDest: onJumpToDest\n    });\n  }));\n};\n\nvar Toggle;\n\n(function (Toggle) {\n  Toggle[Toggle[\"Collapse\"] = 0] = \"Collapse\";\n  Toggle[Toggle[\"Expand\"] = 1] = \"Expand\";\n})(Toggle || (Toggle = {}));\n\nvar BookmarkListRoot = function (_a) {\n  var bookmarks = _a.bookmarks,\n      doc = _a.doc,\n      isBookmarkExpanded = _a.isBookmarkExpanded,\n      renderBookmarkItem = _a.renderBookmarkItem,\n      store = _a.store,\n      onJumpToDest = _a.onJumpToDest;\n  var containerRef = React__namespace.useRef();\n\n  var _b = React__namespace.useState(store.get('linkAnnotations') || {}),\n      links = _b[0],\n      setLinks = _b[1];\n\n  var updateLinkAnnotation = function (bookmark, links) {\n    var dest = bookmark.dest;\n\n    if (!dest || typeof dest !== 'string' || !links[dest]) {\n      return;\n    }\n\n    var annotationContainer = links[dest];\n    annotationContainer.querySelectorAll(\"a[data-annotation-link-dest=\\\"\".concat(dest, \"\\\"]\")).forEach(function (node) {\n      node.setAttribute('aria-label', bookmark.title);\n    });\n\n    if (!bookmark.items || !bookmark.items.length) {\n      return;\n    }\n\n    bookmark.items.forEach(function (item) {\n      return updateLinkAnnotation(item, links);\n    });\n  };\n\n  var handleLinkAnnotationsChanged = function (links) {\n    return setLinks(links);\n  };\n\n  var jumpToDest = function (dest) {\n    core.getDestination(doc, dest).then(function (target) {\n      var pageIndex = target.pageIndex,\n          bottomOffset = target.bottomOffset,\n          leftOffset = target.leftOffset,\n          scaleTo = target.scaleTo;\n      onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n    });\n  };\n\n  var handleKeyDown = function (e) {\n    var container = containerRef.current;\n\n    if (!container || !(e.target instanceof HTMLElement) || !container.contains(e.target)) {\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        moveToItem(function (bookmarkElements, activeEle) {\n          return bookmarkElements.indexOf(activeEle) + 1;\n        });\n        break;\n\n      case 'ArrowLeft':\n        e.preventDefault();\n        toggle(Toggle.Collapse);\n        break;\n\n      case 'ArrowRight':\n        e.preventDefault();\n        toggle(Toggle.Expand);\n        break;\n\n      case 'ArrowUp':\n        e.preventDefault;\n        moveToItem(function (bookmarkElements, activeEle) {\n          return bookmarkElements.indexOf(activeEle) - 1;\n        });\n        break;\n\n      case 'End':\n        e.preventDefault();\n        moveToItem(function (bookmarkElements, _) {\n          return bookmarkElements.length - 1;\n        });\n        break;\n\n      case ' ':\n      case 'Enter':\n      case 'Space':\n        e.preventDefault();\n        clickBookmark();\n        break;\n\n      case 'Home':\n        e.preventDefault();\n        moveToItem(function (_, __) {\n          return 0;\n        });\n        break;\n    }\n  };\n\n  var clickBookmark = function () {\n    var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n    var titleEle = closestItem.querySelector('.rpv-bookmark__title');\n\n    if (titleEle) {\n      titleEle.click();\n    }\n  };\n\n  var moveToItem = function (getItemIndex) {\n    var container = containerRef.current;\n    var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n\n    if (bookmarkElements.length === 0) {\n      return;\n    }\n\n    var activeEle = document.activeElement;\n    var targetIndex = Math.min(bookmarkElements.length - 1, Math.max(0, getItemIndex(bookmarkElements, activeEle)));\n    var targetEle = bookmarkElements[targetIndex];\n    activeEle.setAttribute('tabindex', '-1');\n    targetEle.setAttribute('tabindex', '0');\n    targetEle.focus();\n  };\n\n  var toggle = function (toggle) {\n    var container = containerRef.current;\n    var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n\n    if (bookmarkElements.length === 0) {\n      return;\n    }\n\n    var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n    var expanedAttribute = toggle === Toggle.Collapse ? 'true' : 'false';\n\n    if (closestItem && closestItem.parentElement.getAttribute('aria-expanded') === expanedAttribute) {\n      var toggleEle = closestItem.querySelector('.rpv-bookmark__toggle');\n\n      if (toggleEle) {\n        toggleEle.click();\n      }\n    }\n  };\n\n  React__namespace.useEffect(function () {\n    document.addEventListener('keydown', handleKeyDown);\n    store.subscribe('linkAnnotations', handleLinkAnnotationsChanged);\n    return function () {\n      document.removeEventListener('keydown', handleKeyDown);\n      store.unsubscribe('linkAnnotations', handleLinkAnnotationsChanged);\n    };\n  }, []);\n  React__namespace.useEffect(function () {\n    bookmarks.forEach(function (bookmark) {\n      return updateLinkAnnotation(bookmark, links);\n    });\n  }, [links]);\n  React__namespace.useEffect(function () {\n    var container = containerRef.current;\n\n    if (!container) {\n      return;\n    }\n\n    var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n\n    if (bookmarkElements.length > 0) {\n      bookmarkElements[0].focus();\n      bookmarkElements[0].setAttribute('tabindex', '0');\n    }\n  }, []);\n  return React__namespace.createElement(\"div\", {\n    ref: containerRef\n  }, React__namespace.createElement(BookmarkList, {\n    bookmarks: bookmarks,\n    depth: 0,\n    doc: doc,\n    isBookmarkExpanded: isBookmarkExpanded,\n    isRoot: true,\n    renderBookmarkItem: renderBookmarkItem,\n    store: store,\n    onJumpToDest: jumpToDest\n  }));\n};\n\nvar BookmarkLoader = function (_a) {\n  var doc = _a.doc,\n      isBookmarkExpanded = _a.isBookmarkExpanded,\n      renderBookmarkItem = _a.renderBookmarkItem,\n      store = _a.store,\n      onJumpToDest = _a.onJumpToDest;\n  var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n  var direction = React__namespace.useContext(core.ThemeContext).direction;\n  var isRtl = direction === core.TextDirection.RightToLeft;\n\n  var _b = React__namespace.useState({\n    isLoaded: false,\n    items: []\n  }),\n      bookmarks = _b[0],\n      setBookmarks = _b[1];\n\n  React__namespace.useEffect(function () {\n    setBookmarks({\n      isLoaded: false,\n      items: []\n    });\n    doc.getOutline().then(function (outline) {\n      setBookmarks({\n        isLoaded: true,\n        items: outline || []\n      });\n    });\n  }, [doc]);\n  return !bookmarks.isLoaded ? React__namespace.createElement(\"div\", {\n    className: \"rpv-bookmark__loader\"\n  }, React__namespace.createElement(core.Spinner, null)) : bookmarks.items.length === 0 ? React__namespace.createElement(\"div\", {\n    \"data-testid\": \"bookmark__empty\",\n    className: core.classNames({\n      'rpv-bookmark__empty': true,\n      'rpv-bookmark__empty--rtl': isRtl\n    })\n  }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark') : React__namespace.createElement(\"div\", {\n    \"data-testid\": \"bookmark__container\",\n    className: core.classNames({\n      'rpv-bookmark__container': true,\n      'rpv-bookmark__container--rtl': isRtl\n    })\n  }, React__namespace.createElement(BookmarkListRoot, {\n    bookmarks: bookmarks.items,\n    doc: doc,\n    isBookmarkExpanded: isBookmarkExpanded,\n    renderBookmarkItem: renderBookmarkItem,\n    store: store,\n    onJumpToDest: onJumpToDest\n  }));\n};\n\nvar BookmarkListWithStore = function (_a) {\n  var isBookmarkExpanded = _a.isBookmarkExpanded,\n      renderBookmarkItem = _a.renderBookmarkItem,\n      store = _a.store;\n\n  var _b = React__namespace.useState(store.get('doc')),\n      currentDoc = _b[0],\n      setCurrentDoc = _b[1];\n\n  var handleDocumentChanged = function (doc) {\n    setCurrentDoc(doc);\n  };\n\n  var jump = function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n    var jumpToDestination = store.get('jumpToDestination');\n\n    if (jumpToDestination) {\n      jumpToDestination(pageIndex, bottomOffset, leftOffset, scaleTo);\n    }\n  };\n\n  React__namespace.useEffect(function () {\n    store.subscribe('doc', handleDocumentChanged);\n    return function () {\n      store.unsubscribe('doc', handleDocumentChanged);\n    };\n  }, []);\n  return currentDoc ? React__namespace.createElement(BookmarkLoader, {\n    doc: currentDoc,\n    isBookmarkExpanded: isBookmarkExpanded,\n    renderBookmarkItem: renderBookmarkItem,\n    store: store,\n    onJumpToDest: jump\n  }) : React__namespace.createElement(\"div\", {\n    className: \"rpv-bookmark__loader\"\n  }, React__namespace.createElement(core.Spinner, null));\n};\n\nvar bookmarkPlugin = function () {\n  var store = React__namespace.useMemo(function () {\n    return core.createStore({\n      linkAnnotations: {}\n    });\n  }, []);\n\n  var BookmarksDecorator = function (props) {\n    return React__namespace.createElement(BookmarkListWithStore, {\n      isBookmarkExpanded: props === null || props === void 0 ? void 0 : props.isBookmarkExpanded,\n      renderBookmarkItem: props === null || props === void 0 ? void 0 : props.renderBookmarkItem,\n      store: store\n    });\n  };\n\n  var onAnnotationLayerRender = function (e) {\n    if (!e.annotations.length) {\n      return;\n    }\n\n    var links = e.annotations.filter(function (annotation) {\n      return annotation.subtype === 'Link';\n    });\n\n    if (!links.length) {\n      return;\n    }\n\n    var linkAnnotations = store.get('linkAnnotations') || {};\n    links.forEach(function (annotation) {\n      return linkAnnotations[annotation.dest] = e.container;\n    });\n    store.update('linkAnnotations', linkAnnotations);\n  };\n\n  return {\n    install: function (pluginFunctions) {\n      store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n    },\n    onDocumentLoad: function (props) {\n      store.update('doc', props.doc);\n    },\n    Bookmarks: BookmarksDecorator,\n    onAnnotationLayerRender: onAnnotationLayerRender\n  };\n};\n\nexports.DownArrowIcon = DownArrowIcon;\nexports.RightArrowIcon = RightArrowIcon;\nexports.bookmarkPlugin = bookmarkPlugin;","map":{"version":3,"names":["Object","defineProperty","exports","value","core","require","React","_interopNamespace","e","__esModule","n","create","keys","forEach","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","React__namespace","DownArrowIcon","createElement","Icon","size","RightArrowIcon","shouldBeCollapsed","bookmark","count","items","numSubItems","length","subItems","concat","firstChild","shift","children","Math","abs","BookmarkItem","_a","depth","doc","index","isBookmarkExpanded","numberOfSiblings","renderBookmarkItem","store","onJumpToDest","defaultIsCollapsed","useMemo","defaultExpanded","_b","useState","expanded","setExpanded","hasSubItems","toggleSubItems","clickBookmark","dest","clickItem","defaultRenderItem","onClickItem","className","style","paddingLeft","onClick","defaultRenderToggle","expandIcon","collapseIcon","defaultRenderTitle","onClickBookmark","url","href","rel","target","newWindow","title","role","tabIndex","isExpanded","onClickTitle","onToggleSubItems","Fragment","BookmarkList","bookmarks","isRoot","map","key","Toggle","BookmarkListRoot","containerRef","useRef","links","setLinks","updateLinkAnnotation","annotationContainer","querySelectorAll","node","setAttribute","item","handleLinkAnnotationsChanged","jumpToDest","getDestination","then","pageIndex","bottomOffset","leftOffset","scaleTo","handleKeyDown","container","current","HTMLElement","contains","preventDefault","moveToItem","bookmarkElements","activeEle","indexOf","toggle","Collapse","Expand","_","__","closestItem","document","activeElement","closest","titleEle","querySelector","click","getItemIndex","slice","call","getElementsByClassName","targetIndex","min","max","targetEle","focus","expanedAttribute","parentElement","getAttribute","toggleEle","useEffect","addEventListener","subscribe","removeEventListener","unsubscribe","ref","BookmarkLoader","l10n","useContext","LocalizationContext","direction","ThemeContext","isRtl","TextDirection","RightToLeft","isLoaded","setBookmarks","getOutline","outline","Spinner","classNames","noBookmark","BookmarkListWithStore","currentDoc","setCurrentDoc","handleDocumentChanged","jump","jumpToDestination","bookmarkPlugin","createStore","linkAnnotations","BookmarksDecorator","props","onAnnotationLayerRender","annotations","filter","annotation","subtype","update","install","pluginFunctions","onDocumentLoad","Bookmarks"],"sources":["D:/FHDC/CCHND-V2/Frontend/node_modules/@react-pdf-viewer/bookmark/lib/cjs/bookmark.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar core = require('@react-pdf-viewer/core');\nvar React = require('react');\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () { return e[k]; }\n                });\n            }\n        });\n    }\n    n[\"default\"] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n\nvar DownArrowIcon = function () {\n    return (React__namespace.createElement(core.Icon, { size: 16 },\n        React__namespace.createElement(\"path\", { d: \"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z\" })));\n};\n\nvar RightArrowIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\n    React__namespace.createElement(\"path\", { d: \"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z\" }))); };\n\nvar shouldBeCollapsed = function (bookmark) {\n    var count = bookmark.count, items = bookmark.items;\n    if (count >= 0) {\n        return false;\n    }\n    var numSubItems = items.length;\n    if (numSubItems === 0) {\n        return false;\n    }\n    var subItems = items.concat([]);\n    while (subItems.length > 0) {\n        var firstChild = subItems.shift();\n        var children = firstChild.items;\n        if (firstChild.count && children && firstChild.count > 0 && children.length > 0) {\n            numSubItems += children.length;\n            subItems = subItems.concat(children);\n        }\n    }\n    return Math.abs(count) === numSubItems;\n};\n\nvar BookmarkItem = function (_a) {\n    var bookmark = _a.bookmark, depth = _a.depth, doc = _a.doc, index = _a.index, isBookmarkExpanded = _a.isBookmarkExpanded, numberOfSiblings = _a.numberOfSiblings, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var defaultIsCollapsed = React__namespace.useMemo(function () { return shouldBeCollapsed(bookmark); }, [bookmark]);\n    var defaultExpanded = isBookmarkExpanded\n        ? isBookmarkExpanded({ bookmark: bookmark, doc: doc, depth: depth, index: index })\n        : !defaultIsCollapsed;\n    var _b = React__namespace.useState(defaultExpanded), expanded = _b[0], setExpanded = _b[1];\n    var hasSubItems = bookmark.items && bookmark.items.length > 0;\n    var toggleSubItems = function () { return setExpanded(function (expanded) { return !expanded; }); };\n    var clickBookmark = function () {\n        if (hasSubItems && bookmark.dest) {\n            onJumpToDest(bookmark.dest);\n        }\n    };\n    var clickItem = function () {\n        if (!hasSubItems && bookmark.dest) {\n            onJumpToDest(bookmark.dest);\n        }\n    };\n    var defaultRenderItem = function (onClickItem, children) { return (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__item\", style: {\n            paddingLeft: \"\".concat(depth * 1.25, \"rem\"),\n        }, onClick: onClickItem }, children)); };\n    var defaultRenderToggle = function (expandIcon, collapseIcon) {\n        return hasSubItems ? (React__namespace.createElement(\"span\", { className: \"rpv-bookmark__toggle\", \"data-testid\": \"bookmark__toggle-\".concat(depth, \"-\").concat(index), onClick: toggleSubItems }, expanded ? expandIcon : collapseIcon)) : (React__namespace.createElement(\"span\", { className: \"rpv-bookmark__toggle\" }));\n    };\n    var defaultRenderTitle = function (onClickBookmark) {\n        return bookmark.url ? (React__namespace.createElement(\"a\", { className: \"rpv-bookmark__title\", href: bookmark.url, rel: \"noopener noreferrer nofollow\", target: bookmark.newWindow ? '_blank' : '' }, bookmark.title)) : (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__title\", \"aria-label\": bookmark.title, onClick: onClickBookmark }, bookmark.title));\n    };\n    return (React__namespace.createElement(\"li\", { \"aria-expanded\": expanded ? 'true' : 'false', \"aria-label\": bookmark.title, \"aria-level\": depth + 1, \"aria-posinset\": index + 1, \"aria-setsize\": numberOfSiblings, role: \"treeitem\", tabIndex: -1 },\n        renderBookmarkItem\n            ? renderBookmarkItem({\n                bookmark: bookmark,\n                depth: depth,\n                hasSubItems: hasSubItems,\n                index: index,\n                isExpanded: expanded,\n                defaultRenderItem: defaultRenderItem,\n                defaultRenderTitle: defaultRenderTitle,\n                defaultRenderToggle: defaultRenderToggle,\n                onClickItem: clickItem,\n                onClickTitle: clickBookmark,\n                onToggleSubItems: toggleSubItems,\n            })\n            : defaultRenderItem(clickItem, React__namespace.createElement(React__namespace.Fragment, null,\n                defaultRenderToggle(React__namespace.createElement(DownArrowIcon, null), React__namespace.createElement(RightArrowIcon, null)),\n                defaultRenderTitle(clickBookmark))),\n        hasSubItems && expanded && (React__namespace.createElement(BookmarkList, { bookmarks: bookmark.items, depth: depth + 1, doc: doc, isBookmarkExpanded: isBookmarkExpanded, isRoot: false, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: onJumpToDest }))));\n};\n\nvar BookmarkList = function (_a) {\n    var bookmarks = _a.bookmarks, _b = _a.depth, depth = _b === void 0 ? 0 : _b, doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, isRoot = _a.isRoot, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    return (React__namespace.createElement(\"ul\", { className: \"rpv-bookmark__list\", role: isRoot ? 'tree' : 'group', tabIndex: -1 }, bookmarks.map(function (bookmark, index) { return (React__namespace.createElement(BookmarkItem, { bookmark: bookmark, depth: depth, doc: doc, index: index, isBookmarkExpanded: isBookmarkExpanded, key: index, numberOfSiblings: bookmarks.length, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: onJumpToDest })); })));\n};\n\nvar Toggle;\n(function (Toggle) {\n    Toggle[Toggle[\"Collapse\"] = 0] = \"Collapse\";\n    Toggle[Toggle[\"Expand\"] = 1] = \"Expand\";\n})(Toggle || (Toggle = {}));\nvar BookmarkListRoot = function (_a) {\n    var bookmarks = _a.bookmarks, doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var containerRef = React__namespace.useRef();\n    var _b = React__namespace.useState(store.get('linkAnnotations') || {}), links = _b[0], setLinks = _b[1];\n    var updateLinkAnnotation = function (bookmark, links) {\n        var dest = bookmark.dest;\n        if (!dest || typeof dest !== 'string' || !links[dest]) {\n            return;\n        }\n        var annotationContainer = links[dest];\n        annotationContainer.querySelectorAll(\"a[data-annotation-link-dest=\\\"\".concat(dest, \"\\\"]\")).forEach(function (node) {\n            node.setAttribute('aria-label', bookmark.title);\n        });\n        if (!bookmark.items || !bookmark.items.length) {\n            return;\n        }\n        bookmark.items.forEach(function (item) { return updateLinkAnnotation(item, links); });\n    };\n    var handleLinkAnnotationsChanged = function (links) { return setLinks(links); };\n    var jumpToDest = function (dest) {\n        core.getDestination(doc, dest).then(function (target) {\n            var pageIndex = target.pageIndex, bottomOffset = target.bottomOffset, leftOffset = target.leftOffset, scaleTo = target.scaleTo;\n            onJumpToDest(pageIndex, bottomOffset, leftOffset, scaleTo);\n        });\n    };\n    var handleKeyDown = function (e) {\n        var container = containerRef.current;\n        if (!container || !(e.target instanceof HTMLElement) || !container.contains(e.target)) {\n            return;\n        }\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                moveToItem(function (bookmarkElements, activeEle) { return bookmarkElements.indexOf(activeEle) + 1; });\n                break;\n            case 'ArrowLeft':\n                e.preventDefault();\n                toggle(Toggle.Collapse);\n                break;\n            case 'ArrowRight':\n                e.preventDefault();\n                toggle(Toggle.Expand);\n                break;\n            case 'ArrowUp':\n                e.preventDefault;\n                moveToItem(function (bookmarkElements, activeEle) { return bookmarkElements.indexOf(activeEle) - 1; });\n                break;\n            case 'End':\n                e.preventDefault();\n                moveToItem(function (bookmarkElements, _) { return bookmarkElements.length - 1; });\n                break;\n            case ' ':\n            case 'Enter':\n            case 'Space':\n                e.preventDefault();\n                clickBookmark();\n                break;\n            case 'Home':\n                e.preventDefault();\n                moveToItem(function (_, __) { return 0; });\n                break;\n        }\n    };\n    var clickBookmark = function () {\n        var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n        var titleEle = closestItem.querySelector('.rpv-bookmark__title');\n        if (titleEle) {\n            titleEle.click();\n        }\n    };\n    var moveToItem = function (getItemIndex) {\n        var container = containerRef.current;\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length === 0) {\n            return;\n        }\n        var activeEle = document.activeElement;\n        var targetIndex = Math.min(bookmarkElements.length - 1, Math.max(0, getItemIndex(bookmarkElements, activeEle)));\n        var targetEle = bookmarkElements[targetIndex];\n        activeEle.setAttribute('tabindex', '-1');\n        targetEle.setAttribute('tabindex', '0');\n        targetEle.focus();\n    };\n    var toggle = function (toggle) {\n        var container = containerRef.current;\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length === 0) {\n            return;\n        }\n        var closestItem = document.activeElement.closest('.rpv-bookmark__item');\n        var expanedAttribute = toggle === Toggle.Collapse ? 'true' : 'false';\n        if (closestItem && closestItem.parentElement.getAttribute('aria-expanded') === expanedAttribute) {\n            var toggleEle = closestItem.querySelector('.rpv-bookmark__toggle');\n            if (toggleEle) {\n                toggleEle.click();\n            }\n        }\n    };\n    React__namespace.useEffect(function () {\n        document.addEventListener('keydown', handleKeyDown);\n        store.subscribe('linkAnnotations', handleLinkAnnotationsChanged);\n        return function () {\n            document.removeEventListener('keydown', handleKeyDown);\n            store.unsubscribe('linkAnnotations', handleLinkAnnotationsChanged);\n        };\n    }, []);\n    React__namespace.useEffect(function () {\n        bookmarks.forEach(function (bookmark) { return updateLinkAnnotation(bookmark, links); });\n    }, [links]);\n    React__namespace.useEffect(function () {\n        var container = containerRef.current;\n        if (!container) {\n            return;\n        }\n        var bookmarkElements = [].slice.call(container.getElementsByClassName('rpv-bookmark__item'));\n        if (bookmarkElements.length > 0) {\n            bookmarkElements[0].focus();\n            bookmarkElements[0].setAttribute('tabindex', '0');\n        }\n    }, []);\n    return (React__namespace.createElement(\"div\", { ref: containerRef },\n        React__namespace.createElement(BookmarkList, { bookmarks: bookmarks, depth: 0, doc: doc, isBookmarkExpanded: isBookmarkExpanded, isRoot: true, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: jumpToDest })));\n};\n\nvar BookmarkLoader = function (_a) {\n    var doc = _a.doc, isBookmarkExpanded = _a.isBookmarkExpanded, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store, onJumpToDest = _a.onJumpToDest;\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\n    var isRtl = direction === core.TextDirection.RightToLeft;\n    var _b = React__namespace.useState({\n        isLoaded: false,\n        items: [],\n    }), bookmarks = _b[0], setBookmarks = _b[1];\n    React__namespace.useEffect(function () {\n        setBookmarks({\n            isLoaded: false,\n            items: [],\n        });\n        doc.getOutline().then(function (outline) {\n            setBookmarks({\n                isLoaded: true,\n                items: outline || [],\n            });\n        });\n    }, [doc]);\n    return !bookmarks.isLoaded ? (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__loader\" },\n        React__namespace.createElement(core.Spinner, null))) : bookmarks.items.length === 0 ? (React__namespace.createElement(\"div\", { \"data-testid\": \"bookmark__empty\", className: core.classNames({\n            'rpv-bookmark__empty': true,\n            'rpv-bookmark__empty--rtl': isRtl,\n        }) }, l10n && l10n.bookmark ? l10n.bookmark.noBookmark : 'There is no bookmark')) : (React__namespace.createElement(\"div\", { \"data-testid\": \"bookmark__container\", className: core.classNames({\n            'rpv-bookmark__container': true,\n            'rpv-bookmark__container--rtl': isRtl,\n        }) },\n        React__namespace.createElement(BookmarkListRoot, { bookmarks: bookmarks.items, doc: doc, isBookmarkExpanded: isBookmarkExpanded, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: onJumpToDest })));\n};\n\nvar BookmarkListWithStore = function (_a) {\n    var isBookmarkExpanded = _a.isBookmarkExpanded, renderBookmarkItem = _a.renderBookmarkItem, store = _a.store;\n    var _b = React__namespace.useState(store.get('doc')), currentDoc = _b[0], setCurrentDoc = _b[1];\n    var handleDocumentChanged = function (doc) {\n        setCurrentDoc(doc);\n    };\n    var jump = function (pageIndex, bottomOffset, leftOffset, scaleTo) {\n        var jumpToDestination = store.get('jumpToDestination');\n        if (jumpToDestination) {\n            jumpToDestination(pageIndex, bottomOffset, leftOffset, scaleTo);\n        }\n    };\n    React__namespace.useEffect(function () {\n        store.subscribe('doc', handleDocumentChanged);\n        return function () {\n            store.unsubscribe('doc', handleDocumentChanged);\n        };\n    }, []);\n    return currentDoc ? (React__namespace.createElement(BookmarkLoader, { doc: currentDoc, isBookmarkExpanded: isBookmarkExpanded, renderBookmarkItem: renderBookmarkItem, store: store, onJumpToDest: jump })) : (React__namespace.createElement(\"div\", { className: \"rpv-bookmark__loader\" },\n        React__namespace.createElement(core.Spinner, null)));\n};\n\nvar bookmarkPlugin = function () {\n    var store = React__namespace.useMemo(function () {\n        return core.createStore({\n            linkAnnotations: {},\n        });\n    }, []);\n    var BookmarksDecorator = function (props) { return (React__namespace.createElement(BookmarkListWithStore, { isBookmarkExpanded: props === null || props === void 0 ? void 0 : props.isBookmarkExpanded, renderBookmarkItem: props === null || props === void 0 ? void 0 : props.renderBookmarkItem, store: store })); };\n    var onAnnotationLayerRender = function (e) {\n        if (!e.annotations.length) {\n            return;\n        }\n        var links = e.annotations.filter(function (annotation) { return annotation.subtype === 'Link'; });\n        if (!links.length) {\n            return;\n        }\n        var linkAnnotations = store.get('linkAnnotations') || {};\n        links.forEach(function (annotation) { return (linkAnnotations[annotation.dest] = e.container); });\n        store.update('linkAnnotations', linkAnnotations);\n    };\n    return {\n        install: function (pluginFunctions) {\n            store.update('jumpToDestination', pluginFunctions.jumpToDestination);\n        },\n        onDocumentLoad: function (props) {\n            store.update('doc', props.doc);\n        },\n        Bookmarks: BookmarksDecorator,\n        onAnnotationLayerRender: onAnnotationLayerRender,\n    };\n};\n\nexports.DownArrowIcon = DownArrowIcon;\nexports.RightArrowIcon = RightArrowIcon;\nexports.bookmarkPlugin = bookmarkPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}