{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InitializeRelativeTimeFormat = void 0;\n\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\n\nvar intl_localematcher_1 = require(\"@formatjs/intl-localematcher\");\n\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\n\nfunction InitializeRelativeTimeFormat(rtf, locales, options, _a) {\n  var getInternalSlots = _a.getInternalSlots,\n      availableLocales = _a.availableLocales,\n      relevantExtensionKeys = _a.relevantExtensionKeys,\n      localeData = _a.localeData,\n      getDefaultLocale = _a.getDefaultLocale;\n  var internalSlots = getInternalSlots(rtf);\n  internalSlots.initializedRelativeTimeFormat = true;\n  var requestedLocales = (0, ecma402_abstract_1.CanonicalizeLocaleList)(locales);\n  var opt = Object.create(null);\n  var opts = (0, ecma402_abstract_1.CoerceOptionsToObject)(options);\n  var matcher = (0, ecma402_abstract_1.GetOption)(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n  opt.localeMatcher = matcher;\n  var numberingSystem = (0, ecma402_abstract_1.GetOption)(opts, // @ts-expect-error TS option is wack\n  'numberingSystem', 'string', undefined, undefined);\n\n  if (numberingSystem !== undefined) {\n    if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n      throw new RangeError(\"Invalid numbering system \".concat(numberingSystem));\n    }\n  }\n\n  opt.nu = numberingSystem;\n  var r = (0, intl_localematcher_1.ResolveLocale)(availableLocales, requestedLocales, opt, relevantExtensionKeys, localeData, getDefaultLocale);\n  var locale = r.locale,\n      nu = r.nu;\n  internalSlots.locale = locale;\n  internalSlots.style = (0, ecma402_abstract_1.GetOption)(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long');\n  internalSlots.numeric = (0, ecma402_abstract_1.GetOption)(opts, 'numeric', 'string', ['always', 'auto'], 'always');\n  var fields = localeData[r.dataLocale];\n  (0, ecma402_abstract_1.invariant)(!!fields, \"Missing locale data for \".concat(r.dataLocale));\n  internalSlots.fields = fields;\n  internalSlots.numberFormat = new Intl.NumberFormat(locales);\n  internalSlots.pluralRules = new Intl.PluralRules(locales);\n  internalSlots.numberingSystem = nu;\n  return rtf;\n}\n\nexports.InitializeRelativeTimeFormat = InitializeRelativeTimeFormat;","map":null,"metadata":{},"sourceType":"script"}