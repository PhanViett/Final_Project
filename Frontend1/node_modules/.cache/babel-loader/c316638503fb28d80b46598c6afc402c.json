{"ast":null,"code":"import axios from \"axios\";\nexport default class UploadAdapter {\n  constructor(loader, url) {\n    this.url = url;\n    this.loader = loader;\n    this.loader.file.then(pic => this.file = pic);\n    this.upload();\n  } // Starts the upload process.\n\n\n  upload() {\n    console.log(\"log file\", this.file);\n\n    if (this.file !== undefined && this.file !== \"undefined\") {\n      const fd = new FormData();\n      fd.append(\"file\", this.file); // your image\n      // ...\n\n      return new Promise((resolve, reject) => {\n        axios.put(this.url, fd, {\n          headers: {\n            \"content-type\": \"multipart/form-data\"\n          },\n          onUploadProgress: e => {\n            console.log( // show upload process\n            Math.round(e.loaded / e.total * 100) + \" %\");\n          }\n        }).then(_ref => {\n          let {\n            data\n          } = _ref;\n          console.log(\"log response https://cdn-dev.yte360.com/\", data === null || data === void 0 ? void 0 : data.url);\n          resolve({\n            uploaded: true,\n            fileName: data === null || data === void 0 ? void 0 : data.url,\n            url: `https://cdn-dev.yte360.com/${data === null || data === void 0 ? void 0 : data.url}`,\n            default: `https://cdn-dev.yte360.com/${data === null || data === void 0 ? void 0 : data.url}`\n          });\n        }).catch(error => {\n          reject(\"Server Error\");\n          console.log(\"Server Error : \", error);\n        });\n      });\n    }\n  }\n\n}","map":{"version":3,"names":["axios","UploadAdapter","constructor","loader","url","file","then","pic","upload","console","log","undefined","fd","FormData","append","Promise","resolve","reject","put","headers","onUploadProgress","e","Math","round","loaded","total","data","uploaded","fileName","default","catch","error"],"sources":["V:/Projects/Final_Project/Frontend1/src/app/modules/apps/admin/quan-ly-tin-tuc/uploadAdapter.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default class UploadAdapter {\r\n    constructor(loader, url) {\r\n        this.url = url;\r\n        this.loader = loader;\r\n        this.loader.file.then((pic) => (this.file = pic));\r\n        this.upload();\r\n    }\r\n\r\n    // Starts the upload process.\r\n    upload() {\r\n        console.log(\"log file\", this.file);\r\n        if (this.file !== undefined && this.file !== \"undefined\") {\r\n            const fd = new FormData();\r\n            fd.append(\"file\", this.file); // your image\r\n            // ...\r\n\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .put(this.url, fd, {\r\n                        headers: {\r\n                            \"content-type\": \"multipart/form-data\",\r\n                        },\r\n                        onUploadProgress: (e) => {\r\n                            console.log(\r\n                                // show upload process\r\n                                Math.round((e.loaded / e.total) * 100) + \" %\"\r\n                            );\r\n                        },\r\n                    })\r\n                    .then(({ data }) => {\r\n                        console.log(\"log response https://cdn-dev.yte360.com/\", data?.url);\r\n                        resolve({\r\n                            uploaded: true,\r\n                            fileName: data?.url,\r\n                            url: `https://cdn-dev.yte360.com/${data?.url}`,\r\n                            default: `https://cdn-dev.yte360.com/${data?.url}`,\r\n                        });\r\n                    })\r\n                    .catch((error) => {\r\n                        reject(\"Server Error\");\r\n                        console.log(\"Server Error : \", error);\r\n                    });\r\n            });\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,aAAN,CAAoB;EAC/BC,WAAW,CAACC,MAAD,EAASC,GAAT,EAAc;IACrB,KAAKA,GAAL,GAAWA,GAAX;IACA,KAAKD,MAAL,GAAcA,MAAd;IACA,KAAKA,MAAL,CAAYE,IAAZ,CAAiBC,IAAjB,CAAuBC,GAAD,IAAU,KAAKF,IAAL,GAAYE,GAA5C;IACA,KAAKC,MAAL;EACH,CAN8B,CAQ/B;;;EACAA,MAAM,GAAG;IACLC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKL,IAA7B;;IACA,IAAI,KAAKA,IAAL,KAAcM,SAAd,IAA2B,KAAKN,IAAL,KAAc,WAA7C,EAA0D;MACtD,MAAMO,EAAE,GAAG,IAAIC,QAAJ,EAAX;MACAD,EAAE,CAACE,MAAH,CAAU,MAAV,EAAkB,KAAKT,IAAvB,EAFsD,CAExB;MAC9B;;MAEA,OAAO,IAAIU,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;QACpCjB,KAAK,CACAkB,GADL,CACS,KAAKd,GADd,EACmBQ,EADnB,EACuB;UACfO,OAAO,EAAE;YACL,gBAAgB;UADX,CADM;UAIfC,gBAAgB,EAAGC,CAAD,IAAO;YACrBZ,OAAO,CAACC,GAAR,EACI;YACAY,IAAI,CAACC,KAAL,CAAYF,CAAC,CAACG,MAAF,GAAWH,CAAC,CAACI,KAAd,GAAuB,GAAlC,IAAyC,IAF7C;UAIH;QATc,CADvB,EAYKnB,IAZL,CAYU,QAAc;UAAA,IAAb;YAAEoB;UAAF,CAAa;UAChBjB,OAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDgB,IAAxD,aAAwDA,IAAxD,uBAAwDA,IAAI,CAAEtB,GAA9D;UACAY,OAAO,CAAC;YACJW,QAAQ,EAAE,IADN;YAEJC,QAAQ,EAAEF,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEtB,GAFZ;YAGJA,GAAG,EAAG,8BAA6BsB,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEtB,GAAI,EAHzC;YAIJyB,OAAO,EAAG,8BAA6BH,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEtB,GAAI;UAJ7C,CAAD,CAAP;QAMH,CApBL,EAqBK0B,KArBL,CAqBYC,KAAD,IAAW;UACdd,MAAM,CAAC,cAAD,CAAN;UACAR,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BqB,KAA/B;QACH,CAxBL;MAyBH,CA1BM,CAAP;IA2BH;EACJ;;AA5C8B"},"metadata":{},"sourceType":"module"}