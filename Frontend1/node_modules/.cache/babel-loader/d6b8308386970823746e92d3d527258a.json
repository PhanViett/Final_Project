{"ast":null,"code":"var _jsxFileName = \"D:\\\\FHDC\\\\CCHND-V2\\\\Frontend\\\\src\\\\app\\\\modules\\\\apps\\\\danh-sach-ho-so-thu-ly-duoc-si\\\\ChiTietHoSoYeuCauBoSung.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { PageTitle } from \"../../../../_metronic/layout/core\";\nimport api from \"../../../configs/api\";\nimport { selectRoleUser } from \"../../../redux-module/auth/authSlice\";\nimport { In } from \"../In/In\";\nimport ThongTinCaNhan from \"./components/thong-tin-ca-nhan/ThongTinCaNhan\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nLoadingOverlay.propTypes = undefined;\nexport function ChiTietHoSoThuLyYeuCauBoSung(props) {\n  _s();\n\n  var _thongTinHoSo$thu_tuc;\n\n  const navigate = useNavigate();\n  const roleUser = useSelector(selectRoleUser)[0].ten_en;\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    console.log(\"roleUser\", roleUser);\n\n    if (id) {\n      getThongTinHoSo(id);\n    }\n  }, []);\n  const [isLoading, setIsLoading] = useState(false);\n  const [thongTinHoSo, setThongTinHoSo] = useState({});\n  const [TypeHoSo, setTypeHoSo] = useState(\"\");\n  const [DeNghi, setDeNghi] = useState(\"\");\n  const [file_url, setFileUrl] = useState(\"\");\n  const [isvisibleIn, setIsvisibleIn] = useState(false);\n\n  const closeModalIn = () => setIsvisibleIn(false);\n\n  const showModalIn = value => {\n    setIsvisibleIn(true);\n\n    if (value === \"1\") {\n      var _thongTinHoSo$yeu_cau;\n\n      inHoSo(thongTinHoSo === null || thongTinHoSo === void 0 ? void 0 : (_thongTinHoSo$yeu_cau = thongTinHoSo.yeu_cau_cchnd) === null || _thongTinHoSo$yeu_cau === void 0 ? void 0 : _thongTinHoSo$yeu_cau.id);\n    }\n\n    if (value === \"2\") {\n      var _thongTinHoSo$yeu_cau2;\n\n      inHoSoYeuCau(thongTinHoSo === null || thongTinHoSo === void 0 ? void 0 : (_thongTinHoSo$yeu_cau2 = thongTinHoSo.yeu_cau_cchnd) === null || _thongTinHoSo$yeu_cau2 === void 0 ? void 0 : _thongTinHoSo$yeu_cau2.id);\n    }\n  };\n\n  const inHoSo = async id => {\n    console.log(\"id--------------\", id);\n    let file_type = \"PhieuThamXet\";\n    let file_name = \"HoSoPhieuThamXet\";\n\n    if (file_type !== \"\") {\n      await setIsLoading(true);\n      axios.post(api.API_YEU_CAU, {\n        file_type,\n        file_name,\n        url: \"http://10.14.141.29:7791/yeucau\" + \"/phieuthamxet/\" + id\n      }).then(async _ref => {\n        let {\n          data\n        } = _ref;\n        setFileUrl(`https://cd3-api.yte360.com/${data === null || data === void 0 ? void 0 : data.path[0]}`); // window.open(file_url, \"_blank\", \"noopener,noreferrer\");\n      }).catch(error => {\n        var _error$response, _error$response$data;\n\n        toast.error(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.msg, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"error\"\n        });\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    } else {\n      toast.error(\"Lỗi thông tin hồ sơ\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"error\"\n      });\n    }\n  };\n\n  const inHoSoYeuCau = async id => {\n    console.log(\"id--------------\", id);\n    let file_type = \"VanBanBoSung\";\n    let file_name = \"HoSoVanBanBoSung\"; // switch (thongTinHoSo?.thu_tuc?.loai) {\n    //   case \"1\":\n    //     url = \"/denghicapmoi/\";\n    //     file_type = \"CapMoi\";\n    //     file_name = \"HoSoCapMoi\";\n    //     break;\n    //   case \"2\":\n    //     url = \"/denghicapdoi/\";\n    //     file_type = \"CapDoi\";\n    //     file_name = \"HoSoCapDoi\";\n    //     break;\n    //   case \"3\":\n    //     url = \"/denghicaplai/\";\n    //     file_type = \"CapLai\";\n    //     file_name = \"HoSoCapLai\";\n    //     break;\n    //   default:\n    //     break;\n    // }\n\n    if (file_type !== \"\") {\n      await setIsLoading(true);\n      axios.post(api.API_YEU_CAU, {\n        file_type,\n        file_name,\n        url: \"http://10.14.141.29:7791/yeucau\" + \"/vanbanbosung/\" + id\n      }).then(async _ref2 => {\n        let {\n          data\n        } = _ref2;\n        setFileUrl(`https://cd3-api.yte360.com/${data === null || data === void 0 ? void 0 : data.path[0]}`); // window.open(file_url, \"_blank\", \"noopener,noreferrer\");\n      }).catch(error => {\n        var _error$response2, _error$response2$data;\n\n        toast.error(error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.msg, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"error\"\n        });\n      }).finally(() => {\n        setIsLoading(false);\n      });\n    } else {\n      toast.error(\"Lỗi thông tin hồ sơ\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"error\"\n      });\n    }\n  };\n\n  const getThongTinHoSo = async id => {\n    await setIsLoading(true);\n    axios.get(api.API_DETAIL_HO_SO_THU_LY_DUOC_SI + \"/\" + id).then(async _ref3 => {\n      let {\n        data\n      } = _ref3;\n      const {\n        result\n      } = data;\n\n      if (result) {\n        var _result$yeu_cau_cchnd, _result$yeu_cau_cchnd2, _result$yeu_cau_cchnd3;\n\n        setTypeHoSo(result === null || result === void 0 ? void 0 : result.trang_thai_ho_so);\n        setDeNghi(result === null || result === void 0 ? void 0 : result.de_nghi);\n        setThongTinHoSo(result);\n        setForm({\n          noi_dung_tham_xet: result === null || result === void 0 ? void 0 : (_result$yeu_cau_cchnd = result.yeu_cau_cchnd) === null || _result$yeu_cau_cchnd === void 0 ? void 0 : _result$yeu_cau_cchnd.noi_dung_tham_xet,\n          noi_dung_yeu_cau_bo_sung: roleUser === \"lanhdao\" ? result === null || result === void 0 ? void 0 : (_result$yeu_cau_cchnd2 = result.yeu_cau_cchnd) === null || _result$yeu_cau_cchnd2 === void 0 ? void 0 : _result$yeu_cau_cchnd2.noi_dung_yeu_cau_bo_sung_lanh_dao : roleUser === \"chuyenvien\" ? result === null || result === void 0 ? void 0 : (_result$yeu_cau_cchnd3 = result.yeu_cau_cchnd) === null || _result$yeu_cau_cchnd3 === void 0 ? void 0 : _result$yeu_cau_cchnd3.noi_dung_yeu_cau_bo_sung_chuyen_vien : \"\"\n        }); // setField(\n        //   \"noi_dung_tham_xet\",\n        //   result?.yeu_cau_cchnd?.noi_dung_tham_xet\n        // );\n        // setField(\n        //   \"noi_dung_yeu_cau_bo_sung\",\n        //   roleUser === \"lanhdao\"\n        //     ? result?.yeu_cau_cchnd?.noi_dung_yeu_cau_bo_sung_lanh_dao\n        //     : roleUser === \"chuyenvien\"\n        //     ? result?.yeu_cau_cchnd?.noi_dung_yeu_cau_bo_sung_chuyen_vien\n        //     : \"\"\n        // );\n      }\n    }).catch(error => {\n      var _error$response3, _error$response3$data;\n\n      toast.error(error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.msg, {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"error\"\n      });\n      navigate(\"/error/404\");\n    }).finally(() => {\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 1000);\n    });\n  }; //validate thêm vị trí hành nghề\n\n\n  const [form, setForm] = useState({});\n  const [errors, setErrors] = useState({});\n\n  const setField = (field, value) => {\n    setForm({ ...form,\n      [field]: value\n    });\n    if (!!errors[field]) setErrors({ ...errors,\n      [field]: null\n    });\n  };\n\n  const findFormErrors = () => {\n    const {\n      noi_dung_tham_xet,\n      noi_dung_yeu_cau_bo_sung\n    } = form;\n    console.log(\"form\", form);\n    const newErrors = {}; // name errors\n\n    if (!noi_dung_tham_xet || noi_dung_tham_xet === \"\") newErrors.noi_dung_tham_xet = \"Nội dung thẩm xét không được bỏ trống!\";\n    if (!noi_dung_yeu_cau_bo_sung || noi_dung_yeu_cau_bo_sung === \"\") newErrors.noi_dung_yeu_cau_bo_sung = \"Nội dung yêu cầu bổ sung không được bỏ trống!\";\n    return newErrors;\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newErrors = findFormErrors(); // Conditional logic:\n\n    if (Object.keys(newErrors).length > 0) {\n      // console.log(newErrors);\n      // We got errors!\n      setErrors(newErrors);\n\n      for (const property in newErrors) {\n        toast.error(newErrors[property], {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"error\"\n        });\n        return;\n      }\n    } else {\n      // No errors! Put any logic here for the form submission!\n      updateHoSo();\n    }\n  };\n\n  const updateHoSo = async () => {\n    await setIsLoading(true);\n    const {\n      noi_dung_tham_xet,\n      noi_dung_yeu_cau_bo_sung\n    } = form;\n    const jsonUpdate = {\n      trang_thai_ho_so: roleUser === \"lanhdao\" ? \"8\" : roleUser === \"chuyenvien\" && \"5\",\n      noi_dung_tham_xet,\n      noi_dung_yeu_cau_bo_sung\n    };\n    axios.put(api.API_YEU_CAU_CHUNG_CHI_HANH_NGHE + `/update_inform/${id}`, jsonUpdate).then(async _ref4 => {\n      let {\n        data\n      } = _ref4;\n      toast.success(\"Cập nhật thành công\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"success\"\n      });\n      setTimeout(() => {\n        navigate(-1);\n      }, 1000);\n    }).catch(error => {\n      var _error$response4, _error$response4$data;\n\n      toast.error(error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.msg, {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"error\"\n      });\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  };\n\n  const usersBreadcrumbs = [{\n    title: \"Trang chủ\",\n    path: \"/\",\n    isSeparator: false,\n    isActive: false\n  }, {\n    title: \"\",\n    path: \"\",\n    isSeparator: true,\n    isActive: false\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      breadcrumbs: usersBreadcrumbs,\n      children: \"Chi ti\\u1EBFt h\\u1ED3 s\\u01A1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n      spinner: true,\n      active: isLoading,\n      text: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u ...\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card py-6 px-6 mx-3 my-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"fw-bold fs-5\",\n          children: \"TH\\u1EE6 T\\u1EE4C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text py-2\",\n          children: thongTinHoSo !== null && thongTinHoSo !== void 0 && thongTinHoSo.thu_tuc ? thongTinHoSo === null || thongTinHoSo === void 0 ? void 0 : (_thongTinHoSo$thu_tuc = thongTinHoSo.thu_tuc) === null || _thongTinHoSo$thu_tuc === void 0 ? void 0 : _thongTinHoSo$thu_tuc.ten : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ThongTinCaNhan, {\n        thongTinHoSo: thongTinHoSo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-box py-6 px-6 mx-3 my-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fw-bold fs-5 mb-2\",\n          children: \"\\xDD KI\\u1EBEN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 d-flex px-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"1. N\\u1ED9i dung th\\u1EA9m x\\xE9t, l\\xFD do\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              style: {\n                fontSize: 14,\n                fontWeight: 500\n              },\n              value: form.noi_dung_tham_xet === null ? \"\" : form.noi_dung_tham_xet,\n              onChange: e => {\n                setField(\"noi_dung_tham_xet\", e.target.value);\n              },\n              isInvalid: !!errors.noi_dung_tham_xet\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 px-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"2. N\\u1ED9i dung y\\xEAu c\\u1EA7u b\\u1ED5 sung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              style: {\n                fontSize: 14,\n                fontWeight: 500\n              },\n              value: form.noi_dung_yeu_cau_bo_sung === null ? \"\" : form.noi_dung_yeu_cau_bo_sung,\n              onChange: e => {\n                setField(\"noi_dung_yeu_cau_bo_sung\", e.target.value);\n              },\n              isInvalid: !!errors.noi_dung_yeu_cau_bo_sung\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row w-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 mt-4 mb-5 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              navigate(-1);\n            },\n            className: \"btn bg-primary2 text-white px-4 py-2 mx-2 font-weight-bold\",\n            children: \"QUAY L\\u1EA0I\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: e => {\n              handleSubmit(e);\n            },\n            className: \"btn btn-success text-white px-4 py-2 mx-2 font-weight-bold \",\n            children: \"L\\u01AFU\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              showModalIn(\"1\");\n            },\n            className: \"btn btn-primary text-white px-4 py-2 mx-2 font-weight-bold \",\n            children: \"IN PHI\\u1EBEU TH\\u1EA8M X\\xC9T\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              showModalIn(\"2\");\n            },\n            className: \"btn btn-primary text-white px-4 py-2 mx-2 font-weight-bold \",\n            children: \"IN V\\u0102N B\\u1EA2N Y\\xCAU C\\u1EA6U\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(In, {\n        show: isvisibleIn,\n        onHide: closeModalIn,\n        path: file_url,\n        onIn: () => {\n          var _thongTinHoSo$yeu_cau3, _thongTinHoSo$yeu_cau4;\n\n          inHoSo(thongTinHoSo === null || thongTinHoSo === void 0 ? void 0 : (_thongTinHoSo$yeu_cau3 = thongTinHoSo.yeu_cau_cchnd) === null || _thongTinHoSo$yeu_cau3 === void 0 ? void 0 : _thongTinHoSo$yeu_cau3.id);\n          inHoSoYeuCau(thongTinHoSo === null || thongTinHoSo === void 0 ? void 0 : (_thongTinHoSo$yeu_cau4 = thongTinHoSo.yeu_cau_cchnd) === null || _thongTinHoSo$yeu_cau4 === void 0 ? void 0 : _thongTinHoSo$yeu_cau4.id);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChiTietHoSoThuLyYeuCauBoSung, \"HMbXNbSP6jP/vXz7MX04tHsSEBY=\", false, function () {\n  return [useNavigate, useSelector, useParams];\n});\n\n_c = ChiTietHoSoThuLyYeuCauBoSung;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChiTietHoSoThuLyYeuCauBoSung\");","map":{"version":3,"names":["axios","useEffect","useState","Form","LoadingOverlay","useSelector","useNavigate","useParams","toast","PageTitle","api","selectRoleUser","In","ThongTinCaNhan","propTypes","undefined","ChiTietHoSoThuLyYeuCauBoSung","props","navigate","roleUser","ten_en","id","console","log","getThongTinHoSo","isLoading","setIsLoading","thongTinHoSo","setThongTinHoSo","TypeHoSo","setTypeHoSo","DeNghi","setDeNghi","file_url","setFileUrl","isvisibleIn","setIsvisibleIn","closeModalIn","showModalIn","value","inHoSo","yeu_cau_cchnd","inHoSoYeuCau","file_type","file_name","post","API_YEU_CAU","url","then","data","path","catch","error","response","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","toastId","finally","get","API_DETAIL_HO_SO_THU_LY_DUOC_SI","result","trang_thai_ho_so","de_nghi","setForm","noi_dung_tham_xet","noi_dung_yeu_cau_bo_sung","noi_dung_yeu_cau_bo_sung_lanh_dao","noi_dung_yeu_cau_bo_sung_chuyen_vien","setTimeout","form","errors","setErrors","setField","field","findFormErrors","newErrors","handleSubmit","e","preventDefault","Object","keys","length","property","updateHoSo","jsonUpdate","put","API_YEU_CAU_CHUNG_CHI_HANH_NGHE","success","usersBreadcrumbs","title","isSeparator","isActive","thu_tuc","ten","fontSize","fontWeight","target"],"sources":["D:/FHDC/CCHND-V2/Frontend/src/app/modules/apps/danh-sach-ho-so-thu-ly-duoc-si/ChiTietHoSoYeuCauBoSung.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { PageTitle } from \"../../../../_metronic/layout/core\";\nimport api from \"../../../configs/api\";\nimport { selectRoleUser } from \"../../../redux-module/auth/authSlice\";\nimport { In } from \"../In/In\";\nimport ThongTinCaNhan from \"./components/thong-tin-ca-nhan/ThongTinCaNhan\";\n\nLoadingOverlay.propTypes = undefined;\nexport function ChiTietHoSoThuLyYeuCauBoSung(props) {\n  const navigate = useNavigate();\n  const roleUser = useSelector(selectRoleUser)[0].ten_en;\n  const { id } = useParams();\n\n  useEffect(() => {\n    console.log(\"roleUser\", roleUser);\n    if (id) {\n      getThongTinHoSo(id);\n    }\n  }, []);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [thongTinHoSo, setThongTinHoSo] = useState({});\n  const [TypeHoSo, setTypeHoSo] = useState(\"\");\n  const [DeNghi, setDeNghi] = useState(\"\");\n\n  const [file_url, setFileUrl] = useState(\"\");\n  const [isvisibleIn, setIsvisibleIn] = useState(false);\n  const closeModalIn = () => setIsvisibleIn(false);\n  const showModalIn = (value) => {\n    setIsvisibleIn(true);\n    if (value === \"1\") {\n      inHoSo(thongTinHoSo?.yeu_cau_cchnd?.id);\n    }\n    if (value === \"2\") {\n      inHoSoYeuCau(thongTinHoSo?.yeu_cau_cchnd?.id);\n    }\n  };\n\n  const inHoSo = async (id) => {\n    console.log(\"id--------------\", id);\n\n    let file_type = \"PhieuThamXet\";\n    let file_name = \"HoSoPhieuThamXet\";\n\n    if (file_type !== \"\") {\n      await setIsLoading(true);\n      axios\n        .post(api.API_YEU_CAU, {\n          file_type,\n          file_name,\n          url: \"http://10.14.141.29:7791/yeucau\" + \"/phieuthamxet/\" + id,\n        })\n        .then(async ({ data }) => {\n          setFileUrl(`https://cd3-api.yte360.com/${data?.path[0]}`);\n          // window.open(file_url, \"_blank\", \"noopener,noreferrer\");\n        })\n        .catch((error) => {\n          toast.error(error?.response?.data?.msg, {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            toastId: \"error\",\n          });\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      toast.error(\"Lỗi thông tin hồ sơ\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"error\",\n      });\n    }\n  };\n  const inHoSoYeuCau = async (id) => {\n    console.log(\"id--------------\", id);\n\n    let file_type = \"VanBanBoSung\";\n    let file_name = \"HoSoVanBanBoSung\";\n    // switch (thongTinHoSo?.thu_tuc?.loai) {\n    //   case \"1\":\n    //     url = \"/denghicapmoi/\";\n    //     file_type = \"CapMoi\";\n    //     file_name = \"HoSoCapMoi\";\n    //     break;\n    //   case \"2\":\n    //     url = \"/denghicapdoi/\";\n    //     file_type = \"CapDoi\";\n    //     file_name = \"HoSoCapDoi\";\n\n    //     break;\n    //   case \"3\":\n    //     url = \"/denghicaplai/\";\n    //     file_type = \"CapLai\";\n    //     file_name = \"HoSoCapLai\";\n\n    //     break;\n    //   default:\n    //     break;\n    // }\n\n    if (file_type !== \"\") {\n      await setIsLoading(true);\n      axios\n        .post(api.API_YEU_CAU, {\n          file_type,\n          file_name,\n          url: \"http://10.14.141.29:7791/yeucau\" + \"/vanbanbosung/\" + id,\n        })\n        .then(async ({ data }) => {\n          setFileUrl(`https://cd3-api.yte360.com/${data?.path[0]}`);\n          // window.open(file_url, \"_blank\", \"noopener,noreferrer\");\n        })\n        .catch((error) => {\n          toast.error(error?.response?.data?.msg, {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            toastId: \"error\",\n          });\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      toast.error(\"Lỗi thông tin hồ sơ\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        toastId: \"error\",\n      });\n    }\n  };\n\n  const getThongTinHoSo = async (id) => {\n    await setIsLoading(true);\n    axios\n      .get(api.API_DETAIL_HO_SO_THU_LY_DUOC_SI + \"/\" + id)\n      .then(async ({ data }) => {\n        const { result } = data;\n        if (result) {\n          setTypeHoSo(result?.trang_thai_ho_so);\n          setDeNghi(result?.de_nghi);\n          setThongTinHoSo(result);\n          setForm({\n            noi_dung_tham_xet: result?.yeu_cau_cchnd?.noi_dung_tham_xet,\n            noi_dung_yeu_cau_bo_sung:\n              roleUser === \"lanhdao\"\n                ? result?.yeu_cau_cchnd?.noi_dung_yeu_cau_bo_sung_lanh_dao\n                : roleUser === \"chuyenvien\"\n                ? result?.yeu_cau_cchnd?.noi_dung_yeu_cau_bo_sung_chuyen_vien\n                : \"\",\n          });\n          // setField(\n          //   \"noi_dung_tham_xet\",\n          //   result?.yeu_cau_cchnd?.noi_dung_tham_xet\n          // );\n          // setField(\n          //   \"noi_dung_yeu_cau_bo_sung\",\n          //   roleUser === \"lanhdao\"\n          //     ? result?.yeu_cau_cchnd?.noi_dung_yeu_cau_bo_sung_lanh_dao\n          //     : roleUser === \"chuyenvien\"\n          //     ? result?.yeu_cau_cchnd?.noi_dung_yeu_cau_bo_sung_chuyen_vien\n          //     : \"\"\n          // );\n        }\n      })\n      .catch((error) => {\n        toast.error(error?.response?.data?.msg, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"error\",\n        });\n        navigate(\"/error/404\");\n      })\n      .finally(() => {\n        setTimeout(() => {\n          setIsLoading(false);\n        }, 1000);\n      });\n  };\n\n  //validate thêm vị trí hành nghề\n  const [form, setForm] = useState({});\n  const [errors, setErrors] = useState({});\n\n  const setField = (field, value) => {\n    setForm({\n      ...form,\n      [field]: value,\n    });\n    if (!!errors[field])\n      setErrors({\n        ...errors,\n        [field]: null,\n      });\n  };\n\n  const findFormErrors = () => {\n    const { noi_dung_tham_xet, noi_dung_yeu_cau_bo_sung } = form;\n    console.log(\"form\", form);\n    const newErrors = {};\n    // name errors\n    if (!noi_dung_tham_xet || noi_dung_tham_xet === \"\")\n      newErrors.noi_dung_tham_xet = \"Nội dung thẩm xét không được bỏ trống!\";\n    if (!noi_dung_yeu_cau_bo_sung || noi_dung_yeu_cau_bo_sung === \"\")\n      newErrors.noi_dung_yeu_cau_bo_sung =\n        \"Nội dung yêu cầu bổ sung không được bỏ trống!\";\n    return newErrors;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newErrors = findFormErrors();\n    // Conditional logic:\n    if (Object.keys(newErrors).length > 0) {\n      // console.log(newErrors);\n      // We got errors!\n      setErrors(newErrors);\n      for (const property in newErrors) {\n        toast.error(newErrors[property], {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"error\",\n        });\n        return;\n      }\n    } else {\n      // No errors! Put any logic here for the form submission!\n      updateHoSo();\n    }\n  };\n\n  const updateHoSo = async () => {\n    await setIsLoading(true);\n    const { noi_dung_tham_xet, noi_dung_yeu_cau_bo_sung } = form;\n    const jsonUpdate = {\n      trang_thai_ho_so:\n        roleUser === \"lanhdao\" ? \"8\" : roleUser === \"chuyenvien\" && \"5\",\n      noi_dung_tham_xet,\n      noi_dung_yeu_cau_bo_sung,\n    };\n    axios\n      .put(\n        api.API_YEU_CAU_CHUNG_CHI_HANH_NGHE + `/update_inform/${id}`,\n        jsonUpdate\n      )\n      .then(async ({ data }) => {\n        toast.success(\"Cập nhật thành công\", {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"success\",\n        });\n        setTimeout(() => {\n          navigate(-1);\n        }, 1000);\n      })\n      .catch((error) => {\n        toast.error(error?.response?.data?.msg, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          toastId: \"error\",\n        });\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const usersBreadcrumbs = [\n    {\n      title: \"Trang chủ\",\n      path: \"/\",\n      isSeparator: false,\n      isActive: false,\n    },\n    {\n      title: \"\",\n      path: \"\",\n      isSeparator: true,\n      isActive: false,\n    },\n  ];\n\n  return (\n    <div>\n      <PageTitle breadcrumbs={usersBreadcrumbs}>Chi tiết hồ sơ</PageTitle>\n      <LoadingOverlay spinner active={isLoading} text=\"Đang tải dữ liệu ...\">\n        {/* Thủ tục */}\n        <div className=\"card py-6 px-6 mx-3 my-3\">\n          <label className=\"fw-bold fs-5\">THỦ TỤC</label>\n          <div className=\"text py-2\">\n            {thongTinHoSo?.thu_tuc ? thongTinHoSo?.thu_tuc?.ten : \"\"}\n          </div>\n        </div>\n\n        {/* THÔNG TIN CÁ NHÂN */}\n        <ThongTinCaNhan thongTinHoSo={thongTinHoSo} />\n\n        {/* Ý KIÊN */}\n        <div className=\"card-box py-6 px-6 mx-3 my-3\">\n          <div className=\"fw-bold fs-5 mb-2\">Ý KIẾN</div>\n\n          <div className=\"col-12 d-flex px-0\">\n            <div className=\"col-6\">\n              <label>1. Nội dung thẩm xét, lý do</label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                style={{ fontSize: 14, fontWeight: 500 }}\n                value={\n                  form.noi_dung_tham_xet === null ? \"\" : form.noi_dung_tham_xet\n                }\n                onChange={(e) => {\n                  setField(\"noi_dung_tham_xet\", e.target.value);\n                }}\n                isInvalid={!!errors.noi_dung_tham_xet}\n              />\n            </div>\n            <div className=\"col-6 px-1\">\n              <label>2. Nội dung yêu cầu bổ sung</label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                style={{ fontSize: 14, fontWeight: 500 }}\n                value={\n                  form.noi_dung_yeu_cau_bo_sung === null\n                    ? \"\"\n                    : form.noi_dung_yeu_cau_bo_sung\n                }\n                onChange={(e) => {\n                  setField(\"noi_dung_yeu_cau_bo_sung\", e.target.value);\n                }}\n                isInvalid={!!errors.noi_dung_yeu_cau_bo_sung}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row w-100\">\n          <div className=\"col-12 mt-4 mb-5 text-center\">\n            <div\n              onClick={() => {\n                navigate(-1);\n              }}\n              className=\"btn bg-primary2 text-white px-4 py-2 mx-2 font-weight-bold\"\n            >\n              QUAY LẠI\n            </div>\n\n            <div\n              onClick={(e) => {\n                handleSubmit(e);\n              }}\n              className=\"btn btn-success text-white px-4 py-2 mx-2 font-weight-bold \"\n            >\n              LƯU\n            </div>\n            <div\n              onClick={() => {\n                showModalIn(\"1\");\n              }}\n              className=\"btn btn-primary text-white px-4 py-2 mx-2 font-weight-bold \"\n            >\n              IN PHIẾU THẨM XÉT\n            </div>\n            <div\n              onClick={() => {\n                showModalIn(\"2\");\n              }}\n              className=\"btn btn-primary text-white px-4 py-2 mx-2 font-weight-bold \"\n            >\n              IN VĂN BẢN YÊU CẦU\n            </div>\n          </div>\n        </div>\n        <In\n          show={isvisibleIn}\n          onHide={closeModalIn}\n          path={file_url}\n          onIn={() => {\n            inHoSo(thongTinHoSo?.yeu_cau_cchnd?.id);\n            inHoSoYeuCau(thongTinHoSo?.yeu_cau_cchnd?.id);\n          }}\n        />\n      </LoadingOverlay>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}