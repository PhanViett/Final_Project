{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBAyZD8XWJo4nl4KcIO-c2KOCdLKchlLb4\",\n  authDomain: \"testnotiappcchndv2.firebaseapp.com\",\n  projectId: \"testnotiappcchndv2\",\n  storageBucket: \"testnotiappcchndv2.appspot.com\",\n  messagingSenderId: \"568106658592\",\n  appId: \"1:568106658592:web:97ae7bbddbf26121c04545\",\n  measurementId: \"G-SE8ET9ZK0K\"\n};\nconst firebaseApp = initializeApp(firebaseConfig);\nconst messaging = getMessaging(firebaseApp);\nexport const fetchToken = () => {\n  console.log(\"fetchtoken\");\n  return getToken(messaging, {\n    vapidKey: \"BG4vg0Hec0WeyoWxYYFa6HakkPrmySbA1fcushhMNxF8RBUJd9Scl011sB_bhTSDCNDKkS0QjVhLT8thlcA-ohc\"\n  }).then(currentToken => {\n    console.log(\"log current token: \", currentToken);\n\n    if (currentToken) {\n      localStorage.setItem(\"tokenFirebase\", currentToken); // Track the token -> client mapping, by sending to backend server\n      // show on the UI that permission is secured\n\n      return currentToken;\n    } else {\n      console.log(\"No registration token available. Request permission to generate one.\");\n      localStorage.setItem(\"tokenFirebase\", null); // shows on the UI that permission is required\n    }\n  }).catch(err => {\n    console.log(\"error: \", err); // catch error while creating client token\n  });\n};\nexport const onMessageListener = () => new Promise(resolve => {\n  onMessage(messaging, payload => {\n    console.log(\"log payload\", payload);\n    resolve(payload);\n  });\n});","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","messaging","fetchToken","console","log","vapidKey","then","currentToken","localStorage","setItem","catch","err","onMessageListener","Promise","resolve","payload"],"sources":["D:/FHDC/CCHND-V2/Frontend/src/firebaseNotifications/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyBAyZD8XWJo4nl4KcIO-c2KOCdLKchlLb4\",\n  authDomain: \"testnotiappcchndv2.firebaseapp.com\",\n  projectId: \"testnotiappcchndv2\",\n  storageBucket: \"testnotiappcchndv2.appspot.com\",\n  messagingSenderId: \"568106658592\",\n  appId: \"1:568106658592:web:97ae7bbddbf26121c04545\",\n  measurementId: \"G-SE8ET9ZK0K\",\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst messaging = getMessaging(firebaseApp);\n\nexport const fetchToken = () => {\n  console.log(\"fetchtoken\");\n  return getToken(messaging, {\n    vapidKey:\n      \"BG4vg0Hec0WeyoWxYYFa6HakkPrmySbA1fcushhMNxF8RBUJd9Scl011sB_bhTSDCNDKkS0QjVhLT8thlcA-ohc\",\n  })\n    .then((currentToken) => {\n      console.log(\"log current token: \", currentToken);\n      if (currentToken) {\n        localStorage.setItem(\"tokenFirebase\", currentToken);\n        // Track the token -> client mapping, by sending to backend server\n        // show on the UI that permission is secured\n        return currentToken;\n      } else {\n        console.log(\n          \"No registration token available. Request permission to generate one.\"\n        );\n\n        localStorage.setItem(\"tokenFirebase\", null);\n        // shows on the UI that permission is required\n      }\n    })\n    .catch((err) => {\n      console.log(\"error: \", err);\n      // catch error while creating client token\n    });\n};\n\nexport const onMessageListener = () =>\n  new Promise((resolve) => {\n    onMessage(messaging, (payload) => {\n      console.log(\"log payload\", payload);\n      resolve(payload);\n    });\n  });\n"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,YAAT,EAAuBC,QAAvB,EAAiCC,SAAjC,QAAkD,oBAAlD;AAEA,IAAIC,cAAc,GAAG;EACnBC,MAAM,EAAE,yCADW;EAEnBC,UAAU,EAAE,oCAFO;EAGnBC,SAAS,EAAE,oBAHQ;EAInBC,aAAa,EAAE,gCAJI;EAKnBC,iBAAiB,EAAE,cALA;EAMnBC,KAAK,EAAE,2CANY;EAOnBC,aAAa,EAAE;AAPI,CAArB;AAUA,MAAMC,WAAW,GAAGZ,aAAa,CAACI,cAAD,CAAjC;AACA,MAAMS,SAAS,GAAGZ,YAAY,CAACW,WAAD,CAA9B;AAEA,OAAO,MAAME,UAAU,GAAG,MAAM;EAC9BC,OAAO,CAACC,GAAR,CAAY,YAAZ;EACA,OAAOd,QAAQ,CAACW,SAAD,EAAY;IACzBI,QAAQ,EACN;EAFuB,CAAZ,CAAR,CAIJC,IAJI,CAIEC,YAAD,IAAkB;IACtBJ,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCG,YAAnC;;IACA,IAAIA,YAAJ,EAAkB;MAChBC,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCF,YAAtC,EADgB,CAEhB;MACA;;MACA,OAAOA,YAAP;IACD,CALD,MAKO;MACLJ,OAAO,CAACC,GAAR,CACE,sEADF;MAIAI,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsC,IAAtC,EALK,CAML;IACD;EACF,CAnBI,EAoBJC,KApBI,CAoBGC,GAAD,IAAS;IACdR,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBO,GAAvB,EADc,CAEd;EACD,CAvBI,CAAP;AAwBD,CA1BM;AA4BP,OAAO,MAAMC,iBAAiB,GAAG,MAC/B,IAAIC,OAAJ,CAAaC,OAAD,IAAa;EACvBvB,SAAS,CAACU,SAAD,EAAac,OAAD,IAAa;IAChCZ,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BW,OAA3B;IACAD,OAAO,CAACC,OAAD,CAAP;EACD,CAHQ,CAAT;AAID,CALD,CADK"},"metadata":{},"sourceType":"module"}