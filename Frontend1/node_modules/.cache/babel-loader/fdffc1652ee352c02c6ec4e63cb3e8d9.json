{"ast":null,"code":"import axios from \"axios\";\nexport default class UploadAdapter {\n  constructor(loader, url) {\n    this.url = url;\n    this.loader = loader;\n    this.loader.file.then(pic => this.file = pic);\n    this.upload();\n  } // Starts the upload process.\n\n\n  upload() {\n    if (this.file !== undefined && this.file !== \"undefined\") {\n      const fd = new FormData();\n      fd.append(\"dinh_kem[]\", this.file);\n      return new Promise((resolve, reject) => {\n        axios.post(this.url, fd, {\n          headers: {\n            \"content-type\": \"multipart/form-data\"\n          }\n        }).then(_ref => {\n          let {\n            data\n          } = _ref;\n\n          if (data) {\n            var _data$, _data$2, _data$3;\n\n            console.log(\"log response http://127.0.0.1:9000/\", (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.url);\n            resolve({\n              uploaded: true,\n              fileName: data === null || data === void 0 ? void 0 : data.url,\n              url: `http://127.0.0.1:9000/${(_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.url}`,\n              default: `http://127.0.0.1:9000/${(_data$3 = data[0]) === null || _data$3 === void 0 ? void 0 : _data$3.url}`\n            });\n          }\n        }).catch(error => {\n          reject(\"Server Error\");\n          console.log(\"Server Error : \", error);\n        });\n      });\n    }\n  }\n\n}","map":{"version":3,"names":["axios","UploadAdapter","constructor","loader","url","file","then","pic","upload","undefined","fd","FormData","append","Promise","resolve","reject","post","headers","data","console","log","uploaded","fileName","default","catch","error"],"sources":["V:/Projects/Final_Project/Frontend1/src/app/modules/apps/admin/quan-ly-tin-tuc/uploadAdapter.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default class UploadAdapter {\r\n    constructor(loader, url) {\r\n        this.url = url;\r\n        this.loader = loader;\r\n        this.loader.file.then((pic) => (this.file = pic));\r\n        this.upload();\r\n    }\r\n\r\n    // Starts the upload process.\r\n    upload() {\r\n        if (this.file !== undefined && this.file !== \"undefined\") {\r\n            const fd = new FormData();\r\n            fd.append(\"dinh_kem[]\", this.file);\r\n\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .post(this.url, fd, { headers: {\"content-type\": \"multipart/form-data\"} })\r\n                    .then(({ data }) => {\r\n                        if (data) {\r\n                            console.log(\"log response http://127.0.0.1:9000/\", data[0]?.url);\r\n                            resolve({\r\n                                uploaded: true,\r\n                                fileName: data?.url,\r\n                                url: `http://127.0.0.1:9000/${data[0]?.url}`,\r\n                                default: `http://127.0.0.1:9000/${data[0]?.url}`,\r\n                            });\r\n                        }\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        reject(\"Server Error\");\r\n                        console.log(\"Server Error : \", error);\r\n                    });\r\n            });\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,aAAN,CAAoB;EAC/BC,WAAW,CAACC,MAAD,EAASC,GAAT,EAAc;IACrB,KAAKA,GAAL,GAAWA,GAAX;IACA,KAAKD,MAAL,GAAcA,MAAd;IACA,KAAKA,MAAL,CAAYE,IAAZ,CAAiBC,IAAjB,CAAuBC,GAAD,IAAU,KAAKF,IAAL,GAAYE,GAA5C;IACA,KAAKC,MAAL;EACH,CAN8B,CAQ/B;;;EACAA,MAAM,GAAG;IACL,IAAI,KAAKH,IAAL,KAAcI,SAAd,IAA2B,KAAKJ,IAAL,KAAc,WAA7C,EAA0D;MACtD,MAAMK,EAAE,GAAG,IAAIC,QAAJ,EAAX;MACAD,EAAE,CAACE,MAAH,CAAU,YAAV,EAAwB,KAAKP,IAA7B;MAEA,OAAO,IAAIQ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;QACpCf,KAAK,CACAgB,IADL,CACU,KAAKZ,GADf,EACoBM,EADpB,EACwB;UAAEO,OAAO,EAAE;YAAC,gBAAgB;UAAjB;QAAX,CADxB,EAEKX,IAFL,CAEU,QAAc;UAAA,IAAb;YAAEY;UAAF,CAAa;;UAChB,IAAIA,IAAJ,EAAU;YAAA;;YACNC,OAAO,CAACC,GAAR,CAAY,qCAAZ,YAAmDF,IAAI,CAAC,CAAD,CAAvD,2CAAmD,OAASd,GAA5D;YACAU,OAAO,CAAC;cACJO,QAAQ,EAAE,IADN;cAEJC,QAAQ,EAAEJ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEd,GAFZ;cAGJA,GAAG,EAAG,yBAAD,WAAyBc,IAAI,CAAC,CAAD,CAA7B,4CAAyB,QAASd,GAAI,EAHvC;cAIJmB,OAAO,EAAG,yBAAD,WAAyBL,IAAI,CAAC,CAAD,CAA7B,4CAAyB,QAASd,GAAI;YAJ3C,CAAD,CAAP;UAMH;QAEJ,CAbL,EAcKoB,KAdL,CAcYC,KAAD,IAAW;UACdV,MAAM,CAAC,cAAD,CAAN;UACAI,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BK,KAA/B;QACH,CAjBL;MAkBH,CAnBM,CAAP;IAoBH;EACJ;;AAnC8B"},"metadata":{},"sourceType":"module"}