{"ast":null,"code":"var _jsxFileName = \"D:\\\\FHDC\\\\CCHND-V2\\\\Frontend\\\\src\\\\app\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport { Suspense, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Outlet } from \"react-router-dom\";\nimport { fetchToken } from \"../firebaseNotifications/firebase\";\nimport Notification from \"../firebaseNotifications/Notification\";\nimport { I18nProvider } from \"../_metronic/i18n/i18nProvider\";\nimport { LayoutProvider, LayoutSplashScreen } from \"../_metronic/layout/core\";\nimport { MasterInit } from \"../_metronic/layout/MasterInit\";\nimport { selectCurrentUser } from \"./redux-module/auth/authSlice\";\nimport { notiActions } from \"./redux-module/noti/notiSlice\"; // import { AuthInit } from \"./modules/apps/auth\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const currentUser = useSelector(selectCurrentUser);\n  useEffect(() => {\n    console.log(\"localSt\", localStorage.getItem(\"tokenFirebase\"));\n\n    if (!localStorage.getItem(\"tokenFirebase\")) {\n      console.log(\"khong co token\");\n      fetchToken();\n    }\n\n    if (currentUser) {\n      dispatch(notiActions.getNoti(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: /*#__PURE__*/_jsxDEV(LayoutSplashScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 25\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(I18nProvider, {\n      children: /*#__PURE__*/_jsxDEV(LayoutProvider, {\n        children: [/*#__PURE__*/_jsxDEV(Notification, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MasterInit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"O2kbtA8fGqba42hskhQj2TOyvwQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = App;\nexport { App };\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Suspense","useEffect","useDispatch","useSelector","Outlet","fetchToken","Notification","I18nProvider","LayoutProvider","LayoutSplashScreen","MasterInit","selectCurrentUser","notiActions","App","dispatch","currentUser","console","log","localStorage","getItem","getNoti","id"],"sources":["D:/FHDC/CCHND-V2/Frontend/src/app/App.tsx"],"sourcesContent":["import { Suspense, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { fetchToken } from \"../firebaseNotifications/firebase\";\r\nimport Notification from \"../firebaseNotifications/Notification\";\r\nimport { I18nProvider } from \"../_metronic/i18n/i18nProvider\";\r\nimport { LayoutProvider, LayoutSplashScreen } from \"../_metronic/layout/core\";\r\nimport { MasterInit } from \"../_metronic/layout/MasterInit\";\r\nimport { selectCurrentUser } from \"./redux-module/auth/authSlice\";\r\nimport { notiActions } from \"./redux-module/noti/notiSlice\";\r\n// import { AuthInit } from \"./modules/apps/auth\";\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const currentUser = useSelector(selectCurrentUser);\r\n\r\n  useEffect(() => {\r\n    console.log(\"localSt\", localStorage.getItem(\"tokenFirebase\"));\r\n    if (!localStorage.getItem(\"tokenFirebase\")) {\r\n      console.log(\"khong co token\");\r\n      fetchToken();\r\n    }\r\n    if (currentUser) {\r\n      dispatch(notiActions.getNoti(currentUser?.id));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Suspense fallback={<LayoutSplashScreen />}>\r\n      {/* <header className=\"App-header\">\r\n        {isTokenFound && <h1> Notification permission enabled üëçüèª </h1>}\r\n        {!isTokenFound && <h1> Need notification permission ‚ùóÔ∏è </h1>}\r\n        <Button onClick={() => onShowNotificationClicked()}>Show Toast</Button>\r\n      </header> */}\r\n      <I18nProvider>\r\n        <LayoutProvider>\r\n          {/* <AuthInit> */}\r\n          <Notification />\r\n          <Outlet />\r\n          <MasterInit />\r\n          {/* </AuthInit> */}\r\n        </LayoutProvider>\r\n      </I18nProvider>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport { App };\r\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,SAASC,YAAT,QAA6B,gCAA7B;AACA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,0BAAnD;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,iBAAT,QAAkC,+BAAlC;AACA,SAASC,WAAT,QAA4B,+BAA5B,C,CACA;;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;EACA,MAAMa,WAAW,GAAGZ,WAAW,CAACQ,iBAAD,CAA/B;EAEAV,SAAS,CAAC,MAAM;IACde,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAvB;;IACA,IAAI,CAACD,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAL,EAA4C;MAC1CH,OAAO,CAACC,GAAR,CAAY,gBAAZ;MACAZ,UAAU;IACX;;IACD,IAAIU,WAAJ,EAAiB;MACfD,QAAQ,CAACF,WAAW,CAACQ,OAAZ,CAAoBL,WAApB,aAAoBA,WAApB,uBAAoBA,WAAW,CAAEM,EAAjC,CAAD,CAAR;IACD;EACF,CATQ,EASN,EATM,CAAT;EAWA,oBACE,QAAC,QAAD;IAAU,QAAQ,eAAE,QAAC,kBAAD;MAAA;MAAA;MAAA;IAAA,QAApB;IAAA,uBAME,QAAC,YAAD;MAAA,uBACE,QAAC,cAAD;QAAA,wBAEE,QAAC,YAAD;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QAHF,eAIE,QAAC,UAAD;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EANF;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD,CAjCD;;GAAMR,G;UACaX,W,EACGC,W;;;KAFhBU,G;AAmCN,SAASA,GAAT"},"metadata":{},"sourceType":"module"}