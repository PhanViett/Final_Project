{"ast":null,"code":"import axios from \"axios\";\nexport default class UploadAdapter {\n  constructor(loader, url) {\n    this.url = url;\n    this.loader = loader;\n    this.loader.file.then(pic => this.file = pic);\n    this.upload();\n  } // Starts the upload process.\n\n\n  upload() {\n    if (this.file !== undefined && this.file !== \"undefined\") {\n      const fd = new FormData();\n      fd.append(\"dinh_kem[]\", this.file);\n      return new Promise((resolve, reject) => {\n        axios.post(this.url, fd, {\n          headers: {\n            \"content-type\": \"multipart/form-data\"\n          }\n        }).then(_ref => {\n          let {\n            data\n          } = _ref;\n          console.log(\"log response https://cdn-dev.yte360.com/\", data === null || data === void 0 ? void 0 : data.url);\n          resolve({\n            uploaded: true,\n            fileName: data === null || data === void 0 ? void 0 : data.url,\n            url: `https://cdn-dev.yte360.com/${data === null || data === void 0 ? void 0 : data.url}`,\n            default: `https://cdn-dev.yte360.com/${data === null || data === void 0 ? void 0 : data.url}`\n          });\n        }).catch(error => {\n          reject(\"Server Error\");\n          console.log(\"Server Error : \", error);\n        });\n      });\n    }\n  }\n\n}","map":{"version":3,"names":["axios","UploadAdapter","constructor","loader","url","file","then","pic","upload","undefined","fd","FormData","append","Promise","resolve","reject","post","headers","data","console","log","uploaded","fileName","default","catch","error"],"sources":["V:/Projects/Final_Project/Frontend1/src/app/modules/apps/admin/quan-ly-tin-tuc/uploadAdapter.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default class UploadAdapter {\r\n    constructor(loader, url) {\r\n        this.url = url;\r\n        this.loader = loader;\r\n        this.loader.file.then((pic) => (this.file = pic));\r\n        this.upload();\r\n    }\r\n\r\n    // Starts the upload process.\r\n    upload() {\r\n        if (this.file !== undefined && this.file !== \"undefined\") {\r\n            const fd = new FormData();\r\n            fd.append(\"dinh_kem[]\", this.file);\r\n\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .post(this.url, fd, { headers: {\"content-type\": \"multipart/form-data\"} })\r\n                    .then(({ data }) => {\r\n                        console.log(\"log response https://cdn-dev.yte360.com/\", data?.url);\r\n                        resolve({\r\n                            uploaded: true,\r\n                            fileName: data?.url,\r\n                            url: `https://cdn-dev.yte360.com/${data?.url}`,\r\n                            default: `https://cdn-dev.yte360.com/${data?.url}`,\r\n                        });\r\n                    })\r\n                    .catch((error) => {\r\n                        reject(\"Server Error\");\r\n                        console.log(\"Server Error : \", error);\r\n                    });\r\n            });\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,aAAN,CAAoB;EAC/BC,WAAW,CAACC,MAAD,EAASC,GAAT,EAAc;IACrB,KAAKA,GAAL,GAAWA,GAAX;IACA,KAAKD,MAAL,GAAcA,MAAd;IACA,KAAKA,MAAL,CAAYE,IAAZ,CAAiBC,IAAjB,CAAuBC,GAAD,IAAU,KAAKF,IAAL,GAAYE,GAA5C;IACA,KAAKC,MAAL;EACH,CAN8B,CAQ/B;;;EACAA,MAAM,GAAG;IACL,IAAI,KAAKH,IAAL,KAAcI,SAAd,IAA2B,KAAKJ,IAAL,KAAc,WAA7C,EAA0D;MACtD,MAAMK,EAAE,GAAG,IAAIC,QAAJ,EAAX;MACAD,EAAE,CAACE,MAAH,CAAU,YAAV,EAAwB,KAAKP,IAA7B;MAEA,OAAO,IAAIQ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;QACpCf,KAAK,CACAgB,IADL,CACU,KAAKZ,GADf,EACoBM,EADpB,EACwB;UAAEO,OAAO,EAAE;YAAC,gBAAgB;UAAjB;QAAX,CADxB,EAEKX,IAFL,CAEU,QAAc;UAAA,IAAb;YAAEY;UAAF,CAAa;UAChBC,OAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDF,IAAxD,aAAwDA,IAAxD,uBAAwDA,IAAI,CAAEd,GAA9D;UACAU,OAAO,CAAC;YACJO,QAAQ,EAAE,IADN;YAEJC,QAAQ,EAAEJ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEd,GAFZ;YAGJA,GAAG,EAAG,8BAA6Bc,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEd,GAAI,EAHzC;YAIJmB,OAAO,EAAG,8BAA6BL,IAA9B,aAA8BA,IAA9B,uBAA8BA,IAAI,CAAEd,GAAI;UAJ7C,CAAD,CAAP;QAMH,CAVL,EAWKoB,KAXL,CAWYC,KAAD,IAAW;UACdV,MAAM,CAAC,cAAD,CAAN;UACAI,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BK,KAA/B;QACH,CAdL;MAeH,CAhBM,CAAP;IAiBH;EACJ;;AAhC8B"},"metadata":{},"sourceType":"module"}